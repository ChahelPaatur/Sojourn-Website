"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[712],{9712:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var i=n(7437),o=n(2265),l=n(3856),a=n(2435),r=n(4561),s=n(3449);class d extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:n}=e,l=(0,o.useId)(),a=(0,o.useRef)(null),r=(0,o.useRef)({width:0,height:0,top:0,left:0}),{nonce:c}=(0,o.useContext)(s._);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:i,left:o}=r.current;if(n||!a.current||!e||!t)return;a.current.dataset.motionPopId=l;let s=document.createElement("style");return c&&(s.nonce=c),document.head.appendChild(s),s.sheet&&s.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(i,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(s)}},[n]),(0,i.jsx)(d,{isPresent:n,childRef:a,sizeRef:r,children:o.cloneElement(t,{ref:a})})}let u=e=>{let{children:t,initial:n,isPresent:l,onExitComplete:s,custom:d,presenceAffectsLayout:u,mode:h}=e,m=(0,a.h)(p),f=(0,o.useId)(),w=(0,o.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;s&&s()},[m,s]),x=(0,o.useMemo)(()=>({id:f,initial:n,isPresent:l,custom:d,onExitComplete:w,register:e=>(m.set(e,!1),()=>m.delete(e))}),u?[Math.random(),w]:[l,w]);return(0,o.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[l]),o.useEffect(()=>{l||m.size||!s||s()},[l]),"popLayout"===h&&(t=(0,i.jsx)(c,{isPresent:l,children:t})),(0,i.jsx)(r.O.Provider,{value:x,children:t})};function p(){return new Map}var h=n(3177);let m=e=>e.key||"";function f(e){let t=[];return o.Children.forEach(e,e=>{(0,o.isValidElement)(e)&&t.push(e)}),t}var w=n(5526);let x=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:d=!0,mode:c="sync",propagate:p=!1}=e,[x,b]=(0,h.oO)(p),g=(0,o.useMemo)(()=>f(t),[t]),k=p&&!x?[]:g.map(m),y=(0,o.useRef)(!0),j=(0,o.useRef)(g),v=(0,a.h)(()=>new Map),[C,E]=(0,o.useState)(g),[N,M]=(0,o.useState)(g);(0,w.L)(()=>{y.current=!1,j.current=g;for(let e=0;e<N.length;e++){let t=m(N[e]);k.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}},[N,k.length,k.join("-")]);let S=[];if(g!==C){let e=[...g];for(let t=0;t<N.length;t++){let n=N[t],i=m(n);k.includes(i)||(e.splice(t,0,n),S.push(n))}"wait"===c&&S.length&&(e=S),M(f(e)),E(g);return}let{forceRender:I}=(0,o.useContext)(l.p);return(0,i.jsx)(i.Fragment,{children:N.map(e=>{let t=m(e),o=(!p||!!x)&&(g===N||k.includes(t));return(0,i.jsx)(u,{isPresent:o,initial:(!y.current||!!r)&&void 0,custom:o?void 0:n,presenceAffectsLayout:d,mode:c,onExitComplete:o?void 0:()=>{if(!v.has(t))return;v.set(t,!0);let e=!0;v.forEach(t=>{t||(e=!1)}),e&&(null==I||I(),M(j.current),p&&(null==b||b()),s&&s())},children:e},t)})})};var b=n(3818);function g(e){let{onLoad:t}=e,n=(0,o.useRef)(null),[l,a]=(0,o.useState)(null),[r,s]=(0,o.useState)(null),[d,c]=(0,o.useState)(null),u=[{latitude:37.7749,longitude:-122.4194,name:"San Francisco",description:"Starting point of your journey",type:"origin"},{latitude:35.6762,longitude:139.6503,name:"Tokyo",description:"Your destination",type:"destination"}];return(0,o.useEffect)(()=>{let e=async()=>{if(!window.mapkit||!n.current)return;window.mapkit.init({authorizationCallback:e=>{e("eyJraWQiOiJWWUxWQjQ1NTJOIiwidHlwIjoiSldUIiwiYWxnIjoiRVMyNTYifQ.eyJpc3MiOiJaRFA5QTQyREpZIiwiaWF0IjoxNzQxNzc5NDU2LCJleHAiOjE3NDI0NTM5OTl9.0LFGVouPycbTc_El98PJXFSaDfQx28_pW8tEI3RM7LIJyLj63fIUCMlHtuL-17GfEwnYHxShVOp_qZ0PqYMZhg")},language:"en"});let e=new window.mapkit.Map(n.current,{showsCompass:window.mapkit.FeatureVisibility.Visible,showsZoomControl:!0,showsMapTypeControl:!1,showsScale:window.mapkit.FeatureVisibility.Visible,colorScheme:window.mapkit.Map.ColorSchemes.Dark,mapType:window.mapkit.Map.MapTypes.SatelliteWithLabels}),i=u.map(e=>new window.mapkit.Coordinate(e.latitude,e.longitude)),o=new window.mapkit.Padding(50,50,50,50);e.region=e.regionThatFits(i,o),u.forEach(t=>{let n=document.createElement("div");n.className="w-6 h-6 rounded-full ".concat("origin"===t.type?"bg-[#ff7e54]":"bg-[#cf4b6c]"," border-2 border-white shadow-lg");let i=new window.mapkit.MarkerAnnotation(new window.mapkit.Coordinate(t.latitude,t.longitude),{calloutEnabled:!0,title:t.name,subtitle:t.description,animates:!0,customElement:n});i.addEventListener("select",()=>{s(t)}),e.addAnnotation(i)});let[l,r]=u,d=[new window.mapkit.Coordinate(l.latitude,l.longitude),new window.mapkit.Coordinate(r.latitude,r.longitude)],p=new window.mapkit.Style({lineWidth:4,lineGradient:{type:"linear",colors:["#ff7e54","#cf4b6c"],locations:[0,1]},lineDash:[8,4],animate:!0}),h=new window.mapkit.PolylineOverlay(d,{style:p});e.addOverlay(h),c(h),a(e),t&&t()},i=document.createElement("script");return i.src="https://cdn.apple-mapkit.com/mk/5.x.x/mapkit.js",i.async=!0,i.onload=e,document.body.appendChild(i),()=>{l&&l.destroy()}},[]),(0,i.jsxs)("div",{className:"relative w-full h-full",children:[(0,i.jsx)("div",{ref:n,className:"w-full h-full rounded-2xl overflow-hidden"}),(0,i.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"}),(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/30 via-transparent to-black/30"})]}),(0,i.jsx)(x,{children:r&&(0,i.jsxs)(b.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-4 left-4 right-4 bg-black/80 backdrop-blur-lg p-6 rounded-xl shadow-lg z-10 border border-white/10",children:[(0,i.jsxs)("h3",{className:"text-xl font-semibold text-white mb-2 flex items-center",children:[(0,i.jsx)("span",{className:"w-3 h-3 rounded-full mr-2 ".concat("origin"===r.type?"bg-[#ff7e54]":"bg-[#cf4b6c]")}),r.name]}),(0,i.jsx)("p",{className:"text-white/70",children:r.description}),(0,i.jsx)("button",{onClick:()=>s(null),className:"absolute top-3 right-3 text-white/50 hover:text-white",children:(0,i.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})}}}]);